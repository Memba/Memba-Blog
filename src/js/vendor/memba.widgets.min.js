/*! memba.widgets 13-01-2014 */

!function(a){"use strict";function b(a){return"object"==typeof a&&a.length&&a.pop&&a.push&&a.shift}var c=Function,d=c("return this")(),e=d.kendo,f=e.ui,g=f.Widget,h="string",i="change",j=g.extend({init:function(a,b){var c=this;b=b||{},e.logToConsole("Initializing kendoBreadCrumb custom widget"),g.fn.init.call(c,a,b),c._dataSource(),c._layout()},options:{name:"BreadCrumb",items:null,dataSource:null},_dataSource:function(){var b=this;b.options.dataSource&&(b._refreshHandler?b.options.dataSource.unbind(i,b._refreshHandler):b._refreshHandler=a.proxy(b.refresh,b),b.options.dataSource.bind(i,b._refreshHandler))},setDataSource:function(a){this.options.dataSource=e.observable(a),this._dataSource()},_template:'<ul># for (var i = 0; i < data.{0}.length; i++) { ## if (data[data.{0}[i].text]) { #<li><a data-href="#= data.{0}[i].href #" data-bind="text: #= data.{0}[i].text #"></a></li># } else { #<li><a data-href="#= data.{0}[i].href #">#= data.{0}[i].text #</a></li># } ## } #<ul>',_layout:function(){var c=this,d=null;if(c._clear(),a(c.element).addClass("k-widget k-breadcrumb"),c.options.dataSource){if(a.type(c.options.items)===h&&a.trim(c.options.items).length>0){var f=c.options.dataSource.get(c.options.items);if(b(f)&&f.length>0){d=e.template(e.format(c._template,c.options.items)),a(c.element).html(d(c.options.dataSource));var g=c.element.closest(e.roleSelector("pane"));g?(g=g.data("kendoMobilePane"),a(c.element).find("a").click(function(b){b.preventDefault(),g.navigate(a(b.delegateTarget).attr("data-href"))})):a(c.element).find("a").click(function(b){b.preventDefault(),window.location.href=a(b.delegateTarget).attr("data-href")}),e.bind(a(c.element),c.options.dataSource)}}}else a.noop()},refresh:function(b){var c=this;a.type(b.field)===h&&b.field===c.options.items&&c._layout()},_clear:function(){var b=this;a(b.element).find("*").off(),a(b.element).empty().off().removeClass("k-widget k-breadcrumb")},destroy:function(){var a=this;a._clear(),g.fn.destroy.call(this),a.options.dataSource&&a._refreshHandler&&a.options.dataSource.unbind(i,a._refreshHandler)}});f.plugin(j)}(jQuery),function(a){"use strict";var b=Function,c=b("return this")(),d=c.kendo,e=d.ui,f=e.Widget,g="change",h="dblclick",i=f.extend({init:function(a,b){var c=this;b=b||{},f.fn.init.call(c,a,b),c._dataSource(),c._layout()},options:{name:"IconSelector",icon:null,path:null,dataSource:null,autoBind:!0},icon:function(a){var b=this;return a?(b.options.value=a,void 0):b.options.value},path:function(a){var b=this;return a?(b.options.path=a,void 0):b.options.path},_dataSource:function(){var b=this;b.options.dataSource&&(b._refreshHandler?b.options.dataSource.unbind(g,b._refreshHandler):b._refreshHandler=a.proxy(b.refresh,b),b.options.dataSource.bind(g,b._refreshHandler))},setDataSource:function(a){this.options.dataSource=a,this._dataSource()},_layout:function(){var b=this;a("li > img",b.element).unbind(h),a(b.element).empty(),a(b.element).addClass("k-widget k-iconselector"),a(b.element).append("<ul>");var c=["error32.png","info32.png","success32.png","warning32.png"];a.each(c,function(c,d){a(b.element).append('<li class="k-iconselector-icon"><img src="'+b.options.path+d+'" /></li>')}),a(b.element).append("</ul>"),a('img[src="'+b.options.dataSource.get(b.options.icon)+'"]',b.element).closest("li").removeClass("k-iconselector-icon").addClass("k-iconselector-selected"),a("li > img",b.element).bind(h,function(c){b.options.dataSource.get(b.options.icon)!==a(c.currentTarget).attr("src")&&(a("li",a(b.element)).removeClass("k-iconselector-selected").addClass("k-iconselector-icon"),b.options.dataSource.set(b.options.icon,a(c.currentTarget).attr("src")),a(c.currentTarget).closest("li").removeClass("k-iconselector-icon").addClass("k-iconselector-selected"))})},refresh:function(){a.noop()},_clear:function(){var b=this;a(b.element).find("*").off(),a(b.element).empty().off().removeClass("k-widget k-iconselector")},destroy:function(){var a=this;a._clear(),f.fn.destroy.call(this),a.options.dataSource&&a._refreshHandler&&a.options.dataSource.unbind(g,a._refreshHandler)}});e.plugin(i)}(jQuery),function(a){"use strict";var b=Function,c=b("return this")(),d=c.kendo,e=d.ui,f=e.Widget,g="string",h="hidden",i="info",j="warning",k="error",l="success",m="Default message for an information box",n="change";d.data.binders.widget.type=d.data.Binder.extend({init:function(a,b,c){d.data.Binder.fn.init.call(this,a.element[0],b,c)},refresh:function(){var b=this,c=b.bindings.type.get();a(b.element).data("kendoInfoBox").type(c)}});var o=f.extend({init:function(a,b){var c=this;f.fn.init.call(c,a,b),c._layout()},options:{name:"InfoBox",type:i,value:m},type:function(b){var c=this;if(!b)return c.options.type;if(a.type(b)!==g)throw new TypeError;a.inArray(b,[i,j,k,l])<0&&(b=h),c.options.type!==b&&(c.options.type=b,c.refresh())},value:function(b){var c=this;if(!b)return c.options.value;if(a.type(b)!==g)throw new TypeError;c.options.value!==b&&(c.options.value=b,c.refresh())},_layout:function(){var b=this;switch(b._clear(),a(b.element).addClass("k-widget k-infobox"),a(b.element).html(b.value()),b.type()){case i:a(b.element).addClass("k-infobox-info").removeClass("k-infobox-warning k-infobox-error k-infobox-success").show();break;case j:a(b.element).addClass("k-infobox-warning").removeClass("k-infobox-info k-infobox-error k-infobox-success").show();break;case k:a(b.element).addClass("k-infobox-error").removeClass("k-infobox-info k-infobox-warning k-infobox-success").show();break;case l:a(b.element).addClass("k-infobox-success").removeClass("k-infobox-info k-infobox-warning k-infobox-error").show();break;default:a(b.element).hide()}b.bind(n,a.proxy(b.refresh,b))},refresh:function(b){var c=this;b?a.type(b.field)===g&&(c.options.text.indexOf(b.field)>-1||c.options.type.indexOf(b.field)>-1)&&c._layout():c._layout()},_clear:function(){var b=this;b.unbind(n),a(b.element).find("*").off(),a(b.element).empty().off().removeClass("k-widget k-infobox")},destroy:function(){var a=this;a._clear(),f.fn.destroy.call(this)}});e.plugin(o)}(jQuery),function(a){"use strict";var b=Function,c=b("return this")(),d=c.kendo,e=d.ui,f=e.Widget,g=null,h="string",i="",j="\n",k=":",l='script[type="text/plain"]',m='<script type="text/plain"></script>',n="<wrap></wrap>",o="k-markdown",p="metadata",q="change",r=f.extend({init:function(a,b){var c=this;d.ui.Widget.fn.init.call(c,a,b),c.element.addClass(o),c._inline(),c.refresh()},options:{name:"MarkDown",value:g,url:g},events:[q],url:function(b){var c=this;if(!b)return c.options.url;if(a.type(b)!==h)throw new TypeError;c.options.url!==b&&(c.options.url=b,a.get(c.options.url,function(a){c.value(a)}))},value:function(b){var c=this;if(!b)return c.options.value||i;if(a.type(b)!==h)throw new TypeError;c.options.value!==b&&(c.options.value=b,c.refresh(),c.trigger(q),c.element.trigger(q))},metadata:function(){var a=this,b=a.element;return b.data(p)||{}},html:function(){var b=this,d=b.element,e=b.value().trim().replace(/\r\n/gm,j).replace(/\r/gm,j),f=i;if(a.type(e)===h){f=e;var g=e.indexOf(j+j);if(g>0){var l=!1,m=e.substr(0,g).trim(),n=m.split(j).length,o=/^(?:\s*)(\w+)(?:\s*)\:(?:\s*)([^\r\n]+)(?:\s*)$/gm,q=[];if(o.test(m)&&(q=m.match(o),l=q.length===n),l){f=e.substr(g+2).trim();var r={};a.each(q,function(a,b){try{var c=b.indexOf(k);r[b.substr(0,c).trim()]=b.substr(c+1).trim()}catch(d){}}),d.data(p,r)}}}return c.marked.setOptions({highlight:function(a){return hljs.highlightAuto(a).value}}),c.marked(f)},_inline:function(){var a=this,b=a.element,c=b.find(l);c.length>0&&(a.options.value=c.first().html())},refresh:function(){var b=this,c=b.element,d=c.find(l),e="";d.length>0&&(e=a(m).html(d.html()).wrapAll(n).parent().html()),c.html(e+b.html())},destroy:function(){var a=this,b=a.element;b.removeClass(o),b.removeData(),b.off(),f.fn.destroy.call(a)}});e.plugin(r)}(jQuery),function(a){"use strict";var b=Function,c=b("return this")(),d=c.kendo,e=d.ui,f=e.Widget,g="string",h="number",i="boolean",j="date",k="undefined",l="span",m="<span/>",n="input",o="<input/>",p="color,date,datetime,datetime-local,email,month,number,range,search,tel,text,time,url,week",q="colorpicker,datepicker,datetimepicker,numerictextbox,rating,slider,timepicker",r="textarea",s="<textarea/>",t="tbody",u="type",v="data-role",w="data-bind",x="value: ",y=f.extend({init:function(a,b){var c=this;f.fn.init.call(this,a,b),c._layout()},options:{name:"PropertyGrid",properties:null,schema:null,rows:null},_rowTemplate:'<tr role="row"><td role="gridcell">#: title #</td><td role="gridcell">#= editor #</td></tr>',_altRowTemplate:'<tr class="k-alt" role="row"><td role="gridcell">#: title #</td><td role="gridcell">#= editor #</td></tr>',_layout:function(){var b=this;a(b.element).addClass("k-grid k-widget").append('<div class="k-grid-header" style="padding-right: 17px;"><div class="k-grid-header-wrap"><table role="grid"><colgroup><col><col></colgroup><thead><tr><th role="columnheader" class="k-header">Property</th><th role="columnheader" class="k-header">Value</th></tr></thead></table></div></div>').append('<div class="k-grid-content"><table role="grid"><colgroup><col><col></colgroup><tbody></tbody></table></div>'),b.options.properties instanceof d.data.ObservableObject&&(a.isPlainObject(b.options.schema)&&b.options.schema.model?b.options.properties instanceof b.options.schema.model&&(a.isArray(b.options.rows)&&b.options.rows.length>0?b._layoutWithSchemaAndRows():b._layoutWithSchemaOnly()):a.isArray(b.options.rows)&&b.options.rows.length>0?b._layoutWithRowsOnly():b._layoutFromValues(),d.bind(a(b.element),b.options.properties))},_layoutWithSchemaAndRows:function(){var b=this,c=a(b.element).find(t).first(),e=d.template(b._rowTemplate),f=d.template(b._altRowTemplate),y=0;a.each(b.options.rows,function(t,z){{var A,B=y%2===1?f:e,C=b.options.properties.fields[z.field];b.options.properties[z.field]}if(a.type(C.editable)===k||C.editable)if(a.isFunction(window[z.editor])){c.append(B({title:z.title,editor:""}));var D=c.find("td[role=gridcell]").last(),E={field:z.field,editor:z.editor,model:b.options.properties};window[z.editor](D,E)}else a.type(z.editor)===g?q.indexOf(z.editor.toLowerCase())>-1&&d.rolesFromNamespaces(d.ui).hasOwnProperty(z.editor.toLowerCase())?(c.append(B({title:z.title,editor:o})),A=c.find(n).last(),A.attr(v,z.editor).attr(w,x+z.field)):p.indexOf(z.editor.toLowerCase())>-1?(c.append(B({title:z.title,editor:o})),A=c.find(n).last(),A.attr(u,z.editor.toLowerCase()).attr(w,x+z.field).addClass("k-textbox")):z.editor.toLowerCase()===r&&(c.append(B({title:z.title,editor:s})),A=c.find(r).last(),A.attr(w,x+z.field).addClass("k-textbox")):z.template?a.noop():C.type===h?(c.append(B({title:z.title,editor:o})),A=c.find(n).last(),A.attr(w,x+z.field),A.kendoNumericTextBox()):C.type===i||C.type===j||(c.append(B({title:z.title,editor:o})),A=c.find(n).last(),A.attr(u,"text").attr(w,x+z.field).addClass("k-textbox"));else c.append(B({title:z.title,editor:m})),A=c.find(l).last(),A.attr(w,x+z.field);y++})},_layoutWithSchemaOnly:function(){a.noop()},_layoutWithRowsOnly:function(){a.noop()},_layoutFromValues:function(){a.noop()},_clear:function(){var b=this;a(b.element).find("*").off(),a(b.element).empty().off().removeClass("k-widget k-grid")},destroy:function(){var a=this;a._clear(),f.fn.destroy.call(this)}});e.plugin(y)}(jQuery),function(a){"use strict";function b(a){a=parseFloat(a,10);var b=Math.pow(10,m||0);return Math.round(a*b)/b}function c(a){return(a+"").replace(".",f.cultures.current.numberFormat["."])}var d=Function,e=d("return this")(),f=e.kendo,g=f.ui,h=g.Widget,i="span",j=0,k=5,l=1,m=3,n="change",o=h.extend({init:function(b,c){var d=this;b=a(b),b.type="text",c=a.extend({},{value:parseFloat(b.attr("value")),min:parseFloat(b.attr("min"))||j,max:parseFloat(b.attr("max"))||k,step:parseFloat(b.attr("step"))||l},c),h.fn.init.call(d,b,c),d._layout()},events:[n],options:{name:"Rating"},value:function(a){var d=this,e=d.options;return a=b(a),isNaN(a)?e.value:(a>=e.min&&a<=e.max&&e.value!==a&&(d.element.attr("value",c(a)),e.value=a,d.trigger(n,{value:e.value})),void 0)},_layout:function(){var c=this,d=c.options,e=a(c.element);c._clear(),e.wrap('<span class="k-widget k-rating"/>'),e.hide();for(var f=e.parent(),g=b((d.max-d.min)/d.step),h=1;g>=h;h++)f.append('<span class="k-rating-star" data-star="'+(g+1-h)+'"></span>');f.find("span.k-rating-star").click(function(e){var f=parseFloat(a(e.currentTarget).attr("data-star")),g=b(d.min+f*d.step);c.value(g)}),c.bind(n,function(c){var e=b((c.value-d.min)/d.step);a.each(f.find("span.k-rating-star"),function(b,c){parseFloat(a(c).attr("data-star"))<=e?a(c).addClass("k-rating-selected"):a(c).removeClass("k-rating-selected")})})},_clear:function(){var b=this,c=a(b.element),d=c.parent();b.unbind(n),d.length>0&&d[0].tagName.toLowerCase()===i&&d.hasClass("k-rating")&&(d.find("span.k-rating-star").off().remove(),d.off(),c.unwrap(),c.show())},destroy:function(){var a=this;a._clear(),h.fn.destroy.call(this)}});g.plugin(o)}(jQuery),function(a,b){"use strict";var c=Function,d=c("return this")(),e=d.kendo,f=e.ui,g=f.Widget,h="string",i="websearch.render",j=g.extend({init:function(b,c){var d=this;g.fn.init.call(d,b,c),a(document).bind(i,a.proxy(d._render,d)),d._layout()},options:{name:"WebSearch",engine:"Google",key:"000888210889775888983:tmhkkjoq81m",value:"test"},value:function(b){var c=this;if(!b)return c.options.value;if(a.type(b)!==h)throw new TypeError;c.options.value!==b&&(c.options.value=b,c.refresh())},_gname:b,gname:function(){var b=this;if(!b._gname){var c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");b._gname=(a(b.element).attr("id")||"memba-websearch-results")+"-";for(var d=0;4>d;d++)b._gname+=c[Math.floor(c.length*Math.random())]}return b._gname},_layout:function(){var b=this;if(b._clear(),"Google"===b.options.engine&&(a(b.element).addClass("k-widget k-websearch"),a(b.element).html('<div id="'+b.gname()+'"></div>'),!d.__gcse)){d.__gcse={parsetags:"explicit",callback:function(){a(document).trigger(i)}};var c=("https:"===document.location.protocol?"https:":"http:")+"//www.google.com/cse/cse.js?cx="+b.options.key;a.getScript(c)}},_render:function(){var a=this;"Google"===a.options.engine&&d.google&&(d.google.search.cse.element.render({div:a.gname(),tag:"searchresults-only",gname:a.gname(),attributes:{}}),a.refresh())},refresh:function(){var a=this;if("Google"===a.options.engine&&d.google){var b=d.google.search.cse.element.getElement(a.gname());b.execute(a.value())}},_clear:function(){var b=this;a(b.element).find("*").off(),a(b.element).empty().off().removeClass("k-widget k-websearch")},destroy:function(){var a=this;a._clear(),g.fn.destroy.call(this)}});f.plugin(j)}(jQuery);
//# sourceMappingURL=dist/js/memba.widgets.map