/**
 * Copyright (c) 2013-2019 Memba Sarl. All rights reserved.
 * Sources at https://github.com/Memba
 */

// TODO consider doing this with flex classes
//  https://getbootstrap.com/docs/4.3/utilities/position/

$navbar-height: calc(3.625rem + 0.0625rem); // + 1px border
$footer-height: 1.375rem + 0.0625rem + $line-height-base * $font-size-base;

/*********************************************
 * Header
 ********************************************/
header {
    .navbar {
        @include appearance(hovered-header); // TODO

        // navbar logo
        .navbar-brand {
            height: 3.125rem; // 50px;
            padding: 0;
            width: 11.25rem; // 180px;

            g#logo {
                // text after blue/orange ball
                g:first-child {
                    path {
                        fill: $text-color;
                        stroke: $text-color;
                    }
                }
                // blue/orange ball
                g:last-child {
                    path {
                        fill: #fff;
                        stroke: #fff;
                    }
                }
            }
        }

        // navbar items
        a.nav-link {
            i.kf {
                font-size: 1.5em;
                // Keep aligned when hovering/zooming
                margin-top: -0.25em;
            }

            span {
                font-size: 1rem;
            }

            &:hover {
                // Zoom on hovered item
                transform: scale(1.1);
            }
        }

        // TODO navbar-toggler-icon {} not displayed
        //  Collapsed styles are not good enough (but fine in memba-blog)
    }
}

/*********************************************
 * Main content area
 ********************************************/
main {
    .toolbar {
        border-left-width: 0;
        border-right-width: 0;
        position: absolute;
        top: $navbar-height;
        width: 100%;
        // box-sizing: border-box;
        label {
            font-weight: normal;
        }
    }

    > div.k-content {
        bottom: $footer-height;
        border-width: 0; // So as to be restored (border:none; or border:0 changes border color)
        height: auto;
        left: 0;
        overflow: auto;
        position: absolute;
        right: 0;
        top: $navbar-height;
        -webkit-overflow-scrolling: touch; // required by inobounce in app.init.js
    }
}

/*********************************************
 * Footer
 ********************************************/
footer {
    @include appearance( header ); // TODO

    border-bottom: none;
    border-left: none;
    border-right: none;
    bottom: 0;
    position: absolute;
    width: 100%;
}

/*********************************************
 * Small screens
 ********************************************/
@media (max-height: 450px) {
    header {
        display: none !important;
    }

    main > div.k-content {
        top: 0;
        bottom: 0;

        // TODO <------------------------------------ Check _blogs.css
        .container {
            //article content
            article {
                margin-top: 0;
            }
        }
    }

    footer {
        display: none !important;
    }
}

/*********************************************
 * Printing
 ********************************************/
// See http://getbootstrap.com/css/#responsive-utilities-print
@media print {
    //Reposition content for hiding header, footer and toolbar
    main > div.k-content {
        position: relative;
        top: 0;
        overflow: visible;
    }

    //Make sure we fit page width
    .container {
        width: auto;
    }

    // TODO: --------------------------------------------
    .area {
        min-height: initial;
    }

    //TODO: Do not print hyperlinks after images
    .media-left {
        a[href]::after {
            content: none;
        }
    }
}
